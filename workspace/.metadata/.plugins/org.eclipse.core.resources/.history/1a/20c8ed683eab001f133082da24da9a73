package com.itba.imagenes.tp0;

import java.lang.reflect.Field;

public class ParamsReader {

	// Default param values if not passed by command line:
	public String inputImageName = "original.jpg";
	public String outputImageName = "output.jpg";

	ParamsReader(String[] args) throws NumberFormatException,
			IllegalArgumentException, IllegalAccessException {
		String split[] = null;
		for (String arg : args) {
			split = arg.split("=");
			if (split.length >= 2) {
				try {
					Field aField = ParamsReader.class.getField(split[0]);
					if (aField.getType() == int.class) {
						aField.setInt(this, new Integer(split[1]));
					} else if (aField.getType() == String.class) {
						aField.set(this, split[1]);
					}
				} catch (NoSuchFieldException e) {
					System.out.println("No such argument : " + split[0]
							+ ", Using default");
				}
			}
		}
		return;
	}
}